import{c as S,r as a,j as e,B as m,I as d}from"./index-BaYg4v0E.js";import{s as C}from"./rfqQueries-HiUeWbzr.js";import{X as k}from"./x-BpM8QUTf.js";import{C as I}from"./circle-check-big-CeZJRltX.js";import{C as E}from"./circle-alert-CffsmQPo.js";import{U as F}from"./user-7n3EMXZF.js";import{M as P}from"./mail-BPsL_wSU.js";const D=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],q=S("phone",D);function U(){const[o,i]=a.useState(!1),[u,b]=a.useState(!1),[x,h]=a.useState(!1),[j,v]=a.useState(!1),[p,f]=a.useState(null),[t,N]=a.useState({name:"",email:"",phone:"",message:"",interest:""});a.useEffect(()=>{const s=localStorage.getItem("exitPopupSubmitted"),r=localStorage.getItem("exitPopupDismissed");if(s||r)return;const c=setTimeout(()=>{const g=w=>{w.clientY<=0&&!u&&!o&&(i(!0),b(!0))};return document.addEventListener("mouseleave",g),()=>{document.removeEventListener("mouseleave",g)}},3e3);return()=>clearTimeout(c)},[u,o]);const n=()=>{localStorage.setItem("exitPopupDismissed","true"),i(!1)},l=s=>{N({...t,[s.target.name]:s.target.value})},y=async s=>{s.preventDefault(),h(!0),f(null);try{const r={name:t.name,email:t.email,phone:t.phone,part_number:"Exit Intent Capture",part_description:t.interest||"General inquiry from exit popup",quantity:1,urgency:"standard",message:t.message||"User was about to leave the site"},c={sourcePage:"Exit Intent Popup",sourceUrl:window.location.href,referrer:document.referrer||void 0,userAgent:navigator.userAgent};await C(r,c),localStorage.setItem("exitPopupSubmitted","true"),v(!0),setTimeout(()=>{i(!1)},3e3)}catch(r){f("Failed to submit. Please try again."),console.error("Exit form submission error:",r)}finally{h(!1)}};return o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 animate-in fade-in duration-300",onClick:n}),e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full pointer-events-auto animate-in zoom-in-95 slide-in-from-top-10 duration-300",onClick:s=>s.stopPropagation(),children:[e.jsx("button",{onClick:n,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100 transition-colors z-10","aria-label":"Close",children:e.jsx(k,{className:"h-5 w-5 text-gray-500"})}),j?e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"mb-4 flex justify-center",children:e.jsx("div",{className:"rounded-full bg-green-100 p-3",children:e.jsx(I,{className:"h-12 w-12 text-green-600"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Thank You! ðŸŽ‰"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"We'll contact you within 24 hours!"}),e.jsx(m,{onClick:n,className:"mt-4",children:"Continue Browsing"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 text-white p-6 relative overflow-hidden",children:e.jsxs("div",{className:"relative z-10",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Wait! Don't Leave Empty-Handed! ðŸ‘‹"}),e.jsx("p",{className:"text-red-50",children:"Get a quick quote before you go - 24hr response guaranteed!"})]})}),e.jsxs("form",{onSubmit:y,className:"p-6 space-y-4",children:[p&&e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-2 rounded-lg flex items-center gap-2 text-sm",children:[e.jsx(E,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{children:p})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exit-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Name *"}),e.jsxs("div",{className:"relative",children:[e.jsx(F,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(d,{id:"exit-name",name:"name",type:"text",value:t.name,onChange:l,placeholder:"John Doe",required:!0,className:"pl-9"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exit-email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),e.jsxs("div",{className:"relative",children:[e.jsx(P,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(d,{id:"exit-email",name:"email",type:"email",value:t.email,onChange:l,placeholder:"john@company.com",required:!0,className:"pl-9"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exit-phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(d,{id:"exit-phone",name:"phone",type:"tel",value:t.phone,onChange:l,placeholder:"+1 (714) 705-4780",className:"pl-9"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"exit-interest",className:"block text-sm font-medium text-gray-700 mb-1",children:"What are you looking for?"}),e.jsxs("select",{id:"exit-interest",name:"interest",value:t.interest,onChange:l,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select an option..."}),e.jsx("option",{value:"Standoffs",children:"Standoffs"}),e.jsx("option",{value:"Spacers",children:"Spacers"}),e.jsx("option",{value:"Screws & Bolts",children:"Screws & Bolts"}),e.jsx("option",{value:"Custom Quote",children:"Custom Quote"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[e.jsx(m,{type:"submit",disabled:x,className:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-3",children:x?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):e.jsx(e.Fragment,{children:"Get Free Quote ðŸš€"})}),e.jsx(m,{type:"button",onClick:n,variant:"outline",className:"sm:w-auto",children:"No Thanks"})]}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Your information is secure and will never be shared."})]})]})]})})]}):null}export{U as default};

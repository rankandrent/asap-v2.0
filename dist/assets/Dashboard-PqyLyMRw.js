import{c as u,k as v,r as o,j as e,a as S,P as x,L as l,B as d}from"./index-BaYg4v0E.js";import{g as C}from"./orderQueries-jVZddN7C.js";import{C as t,c as a,a as _,b as k}from"./card-B7NPPkN6.js";import{B as L}from"./badge-C-xAuew-.js";import{S as B}from"./SEO-uX4JX8lL.js";import{C as m}from"./clock-BYQMRh-s.js";import{T as g}from"./truck-BcgVDyHy.js";import{E as O}from"./eye-CkRxLwTo.js";import{S as p}from"./shopping-cart-KRndeQSn.js";import{C as h}from"./circle-check-big-CeZJRltX.js";const P=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],T=u("dollar-sign",P);const A=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],D=u("refresh-ccw",A);function F(){const{user:i}=v(),[r,N]=o.useState(null),[y,j]=o.useState(!0);o.useEffect(()=>{f()},[i]);const f=async()=>{if(!i)return;j(!0);const{data:s}=await C(i.id);s&&N(s),j(!1)},b=s=>{const c={pending:{color:"bg-yellow-100 text-yellow-800",icon:m},confirmed:{color:"bg-blue-100 text-blue-800",icon:h},processing:{color:"bg-purple-100 text-purple-800",icon:x},shipped:{color:"bg-indigo-100 text-indigo-800",icon:g},delivered:{color:"bg-green-100 text-green-800",icon:h},cancelled:{color:"bg-red-100 text-red-800",icon:m}},n=c[s]||c.pending,w=n.icon;return e.jsxs(L,{className:`${n.color} flex items-center gap-1`,children:[e.jsx(w,{className:"h-3 w-3"}),s.charAt(0).toUpperCase()+s.slice(1)]})};return y?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(S,{className:"h-8 w-8 animate-spin text-blue-600"})})}):e.jsxs(e.Fragment,{children:[e.jsx(B,{title:"My Dashboard - ASAP-Amatom.com",description:"View your order history, track shipments, and manage your account.",canonical:"https://asap-amatom.com/dashboard"}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",i?.user_metadata?.full_name||"Customer","! ðŸ‘‹"]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Here's an overview of your account"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(t,{children:e.jsx(a,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r?.total_orders||0})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx(x,{className:"h-6 w-6 text-blue-600"})})]})})}),e.jsx(t,{children:e.jsx(a,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r?.pending_orders||0})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-100 flex items-center justify-center",children:e.jsx(m,{className:"h-6 w-6 text-yellow-600"})})]})})}),e.jsx(t,{children:e.jsx(a,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"In Transit"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r?.shipped_orders||0})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-indigo-100 flex items-center justify-center",children:e.jsx(g,{className:"h-6 w-6 text-indigo-600"})})]})})}),e.jsx(t,{children:e.jsx(a,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Spent"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",r?.total_spent?.toLocaleString()||"0"]})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(T,{className:"h-6 w-6 text-green-600"})})]})})})]}),e.jsxs(t,{children:[e.jsxs(_,{className:"flex flex-row items-center justify-between",children:[e.jsx(k,{children:"Recent Orders"}),e.jsx(l,{to:"/dashboard/orders",children:e.jsx(d,{variant:"outline",size:"sm",children:"View All"})})]}),e.jsx(a,{children:r?.recent_orders&&r.recent_orders.length>0?e.jsx("div",{className:"space-y-4",children:r.recent_orders.map(s=>e.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg",children:["Order #",s.order_number]}),e.jsx("p",{className:"text-sm text-gray-500",children:new Date(s.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),b(s.status)]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[s.items.length," item(s)"]}),e.jsxs("div",{className:"space-y-1",children:[s.items.slice(0,2).map((c,n)=>e.jsxs("p",{className:"text-sm text-gray-700",children:["â€¢ ",c.quantity,"x ",c.part_number]},n)),s.items.length>2&&e.jsxs("p",{className:"text-sm text-gray-500",children:["+ ",s.items.length-2," more item(s)"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["$",s.total.toLocaleString()]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(l,{to:`/dashboard/orders/${s.id}`,children:e.jsxs(d,{size:"sm",variant:"outline",children:[e.jsx(O,{className:"h-4 w-4 mr-1"}),"View"]})}),s.status==="delivered"&&e.jsxs(d,{size:"sm",variant:"outline",children:[e.jsx(D,{className:"h-4 w-4 mr-1"}),"Reorder"]})]})]})]},s.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(p,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Orders Yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Start browsing our catalog to place your first order"}),e.jsx(l,{to:"/categories",children:e.jsx(d,{children:"Browse Parts"})})]})})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(l,{to:"/dashboard/orders",children:e.jsx(t,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:e.jsxs(a,{className:"pt-6 text-center",children:[e.jsx(x,{className:"h-12 w-12 text-blue-600 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold mb-1",children:"Order History"}),e.jsx("p",{className:"text-sm text-gray-600",children:"View all your orders"})]})})}),e.jsx(l,{to:"/dashboard/profile",children:e.jsx(t,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:e.jsxs(a,{className:"pt-6 text-center",children:[e.jsx(h,{className:"h-12 w-12 text-green-600 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold mb-1",children:"Profile Settings"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Update your information"})]})})}),e.jsx(l,{to:"/categories",children:e.jsx(t,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:e.jsxs(a,{className:"pt-6 text-center",children:[e.jsx(p,{className:"h-12 w-12 text-indigo-600 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold mb-1",children:"Browse Parts"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Find what you need"})]})})})]})]})]})}export{F as default};

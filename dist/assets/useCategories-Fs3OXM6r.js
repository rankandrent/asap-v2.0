import{u as a,e as s}from"./index-BaYg4v0E.js";import{c as n}from"./queries-CZBLKuiv.js";const i=()=>{const{selectedManufacturer:e}=a(),t=!!e&&e.trim()!=="";return s({queryKey:["categories",e,"v3"],queryFn:async()=>{try{if(!e||e.trim()==="")throw console.error("‚ùå useCategories: No manufacturer selected"),new Error("No manufacturer selected");console.log(`üîÑ useCategories: Fetching categories for manufacturer: ${e}`);const r=await n(e);return console.log(`‚úÖ useCategories: Loaded ${r.length} categories:`,r.map(o=>`${o.name} (${o.subcategoryCount} subcategories)`)),r.length===0&&(console.warn("‚ö†Ô∏è useCategories: No categories found! This might indicate:"),console.warn("  1. Database connection issue"),console.warn("  2. No data in database for manufacturer:",e),console.warn("  3. Query filters are too strict")),r}catch(r){throw console.error("‚ùå useCategories: Error:",r),r}},enabled:t,staleTime:1800*1e3,gcTime:3600*1e3,retry:2,retryDelay:1e3,refetchOnWindowFocus:!1,refetchOnMount:!0,refetchOnReconnect:!1})};export{i as u};

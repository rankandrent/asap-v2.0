import{j as n,r as t}from"./index-BaYg4v0E.js";import{C as I,a as m,c as y}from"./card-B7NPPkN6.js";function h({className:e}){return n.jsxs(I,{className:e,children:[n.jsx(m,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 animate-pulse"}),n.jsx("div",{className:"h-5 w-5 bg-gray-200 rounded animate-pulse"})]})}),n.jsx(y,{children:n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 animate-pulse"})})]})}function S({count:e=4}){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:e}).map((s,c)=>n.jsx(h,{className:"h-full"},c))})}function v({count:e=6}){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:e}).map((s,c)=>n.jsx(h,{className:"h-full"},c))})}const N=({hasMore:e,isLoading:s,onLoadMore:c,threshold:l=.8})=>{const[d,i]=t.useState(!1),r=t.useRef(null),a=t.useRef(null),o=t.useCallback(g=>{const f=g[0];i(f.isIntersecting),f.isIntersecting&&e&&!s&&c()},[e,s,c]);return t.useEffect(()=>(r.current&&r.current.disconnect(),r.current=new IntersectionObserver(o,{root:null,rootMargin:`${l*100}px`,threshold:.1}),a.current&&r.current.observe(a.current),()=>{r.current&&r.current.disconnect()}),[o,l]),{sentinelRef:a,isIntersecting:d}};function k(e,s=12){const[c,l]=t.useState([]),[d,i]=t.useState(1),[r,a]=t.useState(!0),[o,g]=t.useState(!1);t.useEffect(()=>{const u=e.slice(0,s);l(u),a(e.length>s),i(1)},[e,s]);const f=t.useCallback(()=>{o||!r||(g(!0),setTimeout(()=>{const u=d+1,x=u*s,j=e.slice(0,x);l(j),i(u),a(x<e.length),g(!1)},300))},[e,d,s,r,o]),p=t.useCallback(()=>{const u=e.slice(0,s);l(u),a(e.length>s),i(1)},[e,s]);return{displayedItems:c,hasMore:r,isLoading:o,loadMore:f,reset:p,totalItems:e.length,displayedCount:c.length}}export{S as C,v as S,N as a,k as u};

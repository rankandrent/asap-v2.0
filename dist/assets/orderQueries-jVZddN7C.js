import{h as a}from"./index-BaYg4v0E.js";const i=async s=>{const{data:r,error:e}=await a.from("orders").select("*").eq("user_id",s).order("created_at",{ascending:!1});return{data:r,error:e}},c=async s=>{const{data:r,error:e}=await a.from("orders").select("*").eq("id",s).single();return{data:r,error:e}},l=async s=>{const{data:r,error:e}=await a.from("order_status_history").select("*").eq("order_id",s).order("created_at",{ascending:!0});return{data:r,error:e}},u=async s=>{try{const{data:r,error:e}=await a.from("orders").select("*").eq("user_id",s);if(e)throw e;return!r||r.length===0?{data:{total_orders:0,pending_orders:0,shipped_orders:0,delivered_orders:0,total_spent:0,recent_orders:[]},error:null}:{data:{total_orders:r.length,pending_orders:r.filter(t=>t.status==="pending"||t.status==="confirmed").length,shipped_orders:r.filter(t=>t.status==="shipped").length,delivered_orders:r.filter(t=>t.status==="delivered").length,total_spent:r.reduce((t,d)=>t+(d.total||0),0),recent_orders:r.slice(0,5)},error:null}}catch(r){return{data:null,error:r}}};export{i as a,c as b,l as c,u as g};

import{c as g,d as y,r as l,j as s,a as b,L as h,B as x}from"./index-BaYg4v0E.js";import{b as v,c as w}from"./orderQueries-jVZddN7C.js";import{C as i,a as d,b as c,c as n}from"./card-B7NPPkN6.js";import{B as _}from"./badge-C-xAuew-.js";import{S as j}from"./SEO-uX4JX8lL.js";import{T as O}from"./truck-BcgVDyHy.js";const S=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],k=g("arrow-left",S);function B(){const{orderId:t}=y(),[e,p]=l.useState(null),[o,u]=l.useState([]),[f,m]=l.useState(!0);l.useEffect(()=>{N()},[t]);const N=async()=>{if(!t)return;m(!0);const{data:a}=await v(t),{data:r}=await w(t);a&&p(a),r&&u(r),m(!1)};return f?s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(b,{className:"h-8 w-8 animate-spin text-blue-600"})})}):e?s.jsxs(s.Fragment,{children:[s.jsx(j,{title:`Order #${e.order_number} - ASAP-Amatom.com`,description:`Track your order #${e.order_number}`,canonical:`https://asap-amatom.com/dashboard/orders/${t}`}),s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx(h,{to:"/dashboard/orders",children:s.jsxs(x,{variant:"outline",size:"sm",className:"mb-4",children:[s.jsx(k,{className:"h-4 w-4 mr-2"}),"Back to Orders"]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold",children:["Order #",e.order_number]}),s.jsxs("p",{className:"text-gray-600 mt-1",children:["Placed on ",new Date(e.created_at).toLocaleDateString()]})]}),s.jsx(_,{className:"text-lg px-4 py-2",children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(i,{children:[s.jsx(d,{children:s.jsx(c,{children:"Order Items"})}),s.jsx(n,{children:s.jsx("div",{className:"space-y-4",children:e.items.map((a,r)=>s.jsxs("div",{className:"flex justify-between items-center py-3 border-b last:border-0",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:a.part_number}),s.jsx("p",{className:"text-sm text-gray-600",children:a.description}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Qty: ",a.quantity]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-semibold",children:["$",a.total.toFixed(2)]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["$",a.unit_price.toFixed(2)," each"]})]})]},r))})})]}),s.jsxs(i,{children:[s.jsx(d,{children:s.jsx(c,{children:"Order Status Timeline"})}),s.jsx(n,{children:s.jsx("div",{className:"space-y-4",children:o.map((a,r)=>s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center ${r===0?"bg-blue-600 text-white":"bg-gray-200"}`,children:r===0?"✓":"○"}),r<o.length-1&&s.jsx("div",{className:"w-px h-full bg-gray-300"})]}),s.jsxs("div",{className:"flex-1 pb-4",children:[s.jsx("p",{className:"font-medium capitalize",children:a.status}),s.jsx("p",{className:"text-sm text-gray-500",children:new Date(a.created_at).toLocaleString()}),a.notes&&s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a.notes})]})]},a.id))})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(i,{children:[s.jsx(d,{children:s.jsx(c,{children:"Order Summary"})}),s.jsxs(n,{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Subtotal"}),s.jsxs("span",{children:["$",e.subtotal.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Tax"}),s.jsxs("span",{children:["$",e.tax.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Shipping"}),s.jsxs("span",{children:["$",e.shipping.toFixed(2)]})]}),s.jsxs("div",{className:"border-t pt-3 flex justify-between font-bold",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["$",e.total.toFixed(2)]})]})]})]}),e.tracking_number&&s.jsxs(i,{children:[s.jsx(d,{children:s.jsx(c,{children:"Tracking Info"})}),s.jsx(n,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(O,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:e.carrier})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Tracking: ",e.tracking_number]}),s.jsx(x,{size:"sm",className:"w-full mt-2",children:"Track Package"})]})})]}),e.shipping_address&&s.jsxs(i,{children:[s.jsx(d,{children:s.jsx(c,{children:"Shipping Address"})}),s.jsx(n,{children:s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsx("p",{children:e.shipping_address.street}),s.jsxs("p",{children:[e.shipping_address.city,", ",e.shipping_address.state," ",e.shipping_address.zip]}),s.jsx("p",{children:e.shipping_address.country})]})})]})]})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(j,{title:"Order Not Found - ASAP-Amatom.com",description:"The requested order could not be found",canonical:`https://asap-amatom.com/dashboard/orders/${t}`}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Order Not Found"}),s.jsx(h,{to:"/dashboard/orders",children:s.jsx(x,{children:"Back to Orders"})})]})})]})}export{B as default};

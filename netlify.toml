# Prerender.io Configuration for Dynamic Meta Tags (SSR)
# Prerender.io automatically renders pages server-side for crawlers
# Free tier: 250 pages/month
# Paid tier: $25/month - UNLIMITED pages (Recommended for 500k pages)

# User-Agent based redirects to Prerender.io
[[redirects]]
  from = "/parts/*"
  to = "https://service.prerender.io/https://asap-amatom.com/:splat?token=:PRERENDER_TOKEN"
  status = 200
  force = false
  conditions = {User-Agent = ["Googlebot", "googlebot", "Bingbot", "bingbot", "Slurp", "DuckDuckBot", "Baiduspider", "baiduspider", "YandexBot", "facebookexternalhit", "twitterbot", "rogerbot", "linkedinbot", "embedly", "quora link preview", "showyoubot", "outbrain", "pinterest", "slackbot", "vkShare", "W3C_Validator", "whatsapp", "redditbot", "Applebot", "flipboard", "tumblr", "bitlybot", "SkypeUriPreview", "nuzzel", "DiscordBot", "Google Page Speed", "Qwantify", "pinterestbot", "Bitrix link preview", "XING-contenttabreceiver", "Chrome-Lighthouse", "TelegramBot", "SiteAuditBot", "SemrushBot"]}
  # For FREE tier: Remove ?token=:PRERENDER_TOKEN from URL
  # For PAID tier: Add PRERENDER_TOKEN to Netlify environment variables

[[redirects]]
  from = "/categories/*"
  to = "https://service.prerender.io/https://asap-amatom.com/:splat?token=:PRERENDER_TOKEN"
  status = 200
  force = false
  conditions = {User-Agent = ["Googlebot", "googlebot", "Bingbot", "bingbot", "Slurp", "DuckDuckBot", "Baiduspider", "baiduspider", "YandexBot", "facebookexternalhit", "twitterbot", "rogerbot", "linkedinbot", "embedly", "quora link preview", "showyoubot", "outbrain", "pinterest", "slackbot", "vkShare", "W3C_Validator", "whatsapp", "redditbot", "Applebot", "flipboard", "tumblr", "bitlybot", "SkypeUriPreview", "nuzzel", "DiscordBot", "Google Page Speed", "Qwantify", "pinterestbot", "Bitrix link preview", "XING-contenttabreceiver", "Chrome-Lighthouse", "TelegramBot", "SiteAuditBot", "SemrushBot"]}
  # For FREE tier: Remove ?token=:PRERENDER_TOKEN from URL
  # For PAID tier: Add PRERENDER_TOKEN to Netlify environment variables

# Static assets - no prerendering
[[redirects]]
  from = "/assets/*"
  to = "/assets/:splat"
  status = 200

[[redirects]]
  from = "/image/*"
  to = "/image/:splat"
  status = 200

[[redirects]]
  from = "/images/*"
  to = "/images/:splat"
  status = 200

# SPA fallback - all other routes
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

[build]
  command = "npm run build"
  publish = "dist"

[build.environment]
  NODE_VERSION = "18"
  
# Optional: Prerender.io token (get from https://prerender.io)
# Add as environment variable: PRERENDER_TOKEN = "your-token"
# Then update redirects to: https://service.prerender.io/https://asap-amatom.com/:splat?token=:PRERENDER_TOKEN

